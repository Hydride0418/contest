(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5de9f2ba"],{"0687":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-main",[o("el-row",{staticStyle:{"margin-bottom":"20px"}},[o("el-col",{attrs:{span:8}},[o("div",[o("span",{staticStyle:{"font-size":"13px","margin-right":"10px"}},[e._v("赛题")]),o("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入内容"},model:{value:e.question_name,callback:function(t){e.question_name=t},expression:"question_name"}})],1)]),o("el-col",{attrs:{span:8}},[o("div",{staticStyle:{"margin-left":"12%"}},[o("span",{staticStyle:{"font-size":"13px","margin-right":"10px"}},[e._v("赛事状态")]),o("el-radio",{attrs:{label:"1"},model:{value:e.work_status,callback:function(t){e.work_status=t},expression:"work_status"}},[e._v("已归档")]),o("el-radio",{attrs:{label:"2"},model:{value:e.work_status,callback:function(t){e.work_status=t},expression:"work_status"}},[e._v("未归档")])],1)]),o("el-col",{attrs:{span:8}},[o("div",{staticClass:"box1"},[o("div",[o("span",{staticStyle:{"margin-left":"110px"},attrs:{type:"primary"}},[o("el-button",{on:{click:e.load}},[e._v("查询")])],1),o("span",{staticStyle:{"margin-left":"10px"}},[o("el-button",{on:{click:e.empty}},[e._v("清空")])],1)])])])],1),o("el-table",{attrs:{data:e.tableData,border:"",strips:"","header-cell-class-name":e.headerBg},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"index",index:e.indexFn,width:"50"}}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{staticStyle:{"margin-left":"0"},attrs:{slot:"reference",type:"text"},on:{click:function(o){return e.handleEdit(t.row.work_id)}},slot:"reference"},[e._v("编辑信息")]),o("span",{staticStyle:{color:"#409EFF"}},[e._v("/")]),o("el-button",{staticStyle:{"margin-left":"0"},attrs:{slot:"reference",type:"text"},on:{click:function(o){return e.handleDelete(t.row.work_id)}},slot:"reference"},[e._v("下线赛事")]),o("span",{staticStyle:{color:"#409EFF"}},[e._v("/")]),o("el-button",{staticStyle:{"margin-left":"0"},attrs:{slot:"reference",type:"text"},on:{click:function(o){return e.handleAddQuestion(t.row.work_id)}},slot:"reference"},[e._v("添加赛题")]),o("span",{staticStyle:{color:"#409EFF"}},[e._v("/")]),o("el-upload",{staticClass:"upload-demo",attrs:{action:"http://localhost:9090/contest/upload_Image/4","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("配置图片")]),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)]}}])}),o("el-table-column",{attrs:{prop:"name",label:"赛事名称"}}),o("el-table-column",{attrs:{prop:"time_limit",label:"时间限制天数",width:"200"}}),o("el-table-column",{attrs:{prop:"question_number",label:"赛题数",width:"200"}}),o("el-table-column",{attrs:{prop:"contest_status",label:"归档状态",width:"200"}})],1),o("div",{staticStyle:{padding:"10px 0"}},[o("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.pageNum,"page-sizes":[2,5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),o("el-dialog",{attrs:{title:"编辑信息",visible:e.dialogFormVisibleEdit,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisibleEdit=t}}},[o("el-form",{ref:"form",attrs:{model:e.editForm,"label-width":"90px",rules:e.rules}},[o("el-form-item",{attrs:{label:"赛事名称",prop:"name",required:""}},[o("el-input",{attrs:{type:"text"},model:{value:e.editForm.contest_name,callback:function(t){e.$set(e.editForm,"contest_name",t)},expression:"editForm.contest_name"}})],1),o("el-form-item",{attrs:{label:"举办时间",required:""}},[o("el-col",{attrs:{span:11}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"开始日期"},model:{value:e.editForm.start_time,callback:function(t){e.$set(e.editForm,"start_time",t)},expression:"editForm.start_time"}})],1),o("el-col",{staticClass:"line",staticStyle:{color:"white"},attrs:{span:2}},[e._v("-")]),o("el-col",{attrs:{span:11}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"结束日期"},model:{value:e.editForm.end_time,callback:function(t){e.$set(e.editForm,"end_time",t)},expression:"editForm.end_time"}})],1)],1),o("el-form-item",{attrs:{label:"备注",prop:"comment"}},[o("el-input",{attrs:{type:"textarea",autosize:"",autocomplete:"off"},model:{value:e.editForm.comment,callback:function(t){e.$set(e.editForm,"comment",t)},expression:"editForm.comment"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisibleEdit=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save("editForm")}}},[e._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"添加赛题",visible:e.dialogFormVisibleAdd,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisibleAdd=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"90px",rules:e.rules}},[o("el-form-item",{attrs:{label:"赛题名称",required:""}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),o("el-form-item",{attrs:{label:"备注",prop:"comment"}},[o("el-input",{attrs:{type:"textarea",autosize:"",autocomplete:"off"},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1)],1),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save("form")}}},[e._v("确 定")])],1)],1)],1)],1)},n=[],i=(o("fb6a"),o("b0c0"),o("d81d"),o("99af"),o("b775")),r={name:"Admin",data:function(){return{works:[],tableCache:[],tableData:[],total:0,pageNum:1,pageSize:5,question_name:"",name:"",work_id:0,work_name:"",work_status:0,contest_status:"",team_leader:"",leader_school:"",leader_phone:"",advisor:"",headerBg:"headerBg",dialogFormVisible:!1,dialogFormVisibleAdd:!1,dialogFormVisibleEdit:!1,form:{name:"",gender:""},rules:{},multipleSelection:[],editForm:{contest_name:"",start_time:"",end_time:"",comment:""}}},created:function(){this.load()},methods:{load:function(){var e=this;this.tableCache=[],console.log("66666666"),console.log(this.contest_status);var t={question_name:this.question_name,work_status:this.work_status};i["a"].post("/contest/search",t).then((function(t){console.log(t),e.tableCache=t,e.getTableData()}))},getTableData:function(){console.log(this.tableCache),this.tableData=this.tableCache.slice((this.pageNum-1)*this.pageSize,this.pageNum*this.pageSize)},empty:function(){this.question_name="",this.name="",this.team_leader="",this.leader_school="",this.leader_phone="",this.load()},indexFn:function(e){return e=e+1+(this.pageNum-1)*this.pageSize,e},handleSizeChange:function(e){this.pageSize=e,this.getTableData()},handleCurrentChange:function(e){this.pageNum=e,this.getTableData()},handleAdd:function(){this.dialogFormVisible=!0,this.form={}},handleEdit:function(e){this.dialogFormVisibleEdit=!0},handleDelete:function(e){var t=this;i["a"].post("/contest/modify_contest",e).then((function(e){200===e.code?(t.$message.success("编辑成功"),t.dialogFormVisible=!1,t.load()):t.$message.error("编辑失败")}))},handleAddQuestion:function(e){this.dialogFormVisibleAdd=!0},save:function(e){var t=this;this.$refs[e].validate((function(o){o?i["a"].post("/contest/modify_contest",e).then((function(e){200===e.code?(t.$message.success("编辑成功"),t.dialogFormVisible=!1,t.load()):t.$message.error("编辑失败")})):console.log("提交失败")}))},handleShow:function(e){var t=this;console.log("id"),console.log(e),i["a"].get("/work/get/"+e).then((function(e){console.log(e),null!=e?(t.dialogFormVisible=!0,t.$message.success("查看成功"),t.load()):t.$message.error("查看失败")}))},handleSelectionChange:function(e){this.multipleSelection=e},handleBatchDele:function(){var e=this,t=this.multipleSelection.map((function(e){return e.id}));i["a"].post("/admin/delete_batch",t).then((function(t){200===t.code?(e.$message.success("批量删除成功"),e.load()):e.$message.error("批量删除失败")}))},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},exp:function(){window.open("http://localhost:9090/admin/export")},importSuccess:function(){this.$message.success("文件导入成功")}}},l=r,s=(o("520a"),o("2877")),c=Object(s["a"])(l,a,n,!1,null,null,null);t["default"]=c.exports},"0b42":function(e,t,o){var a=o("da84"),n=o("e8b5"),i=o("68ee"),r=o("861d"),l=o("b622"),s=l("species"),c=a.Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,i(t)&&(t===c||n(t.prototype))?t=void 0:r(t)&&(t=t[s],null===t&&(t=void 0))),void 0===t?c:t}},"1dde":function(e,t,o){var a=o("d039"),n=o("b622"),i=o("2d00"),r=n("species");e.exports=function(e){return i>=51||!a((function(){var t=[],o=t.constructor={};return o[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"4ef1":function(e,t,o){},"520a":function(e,t,o){"use strict";o("4ef1")},"65f0":function(e,t,o){var a=o("0b42");e.exports=function(e,t){return new(a(e))(0===t?0:t)}},8418:function(e,t,o){"use strict";var a=o("a04b"),n=o("9bf2"),i=o("5c6c");e.exports=function(e,t,o){var r=a(t);r in e?n.f(e,r,i(0,o)):e[r]=o}},"99af":function(e,t,o){"use strict";var a=o("23e7"),n=o("da84"),i=o("d039"),r=o("e8b5"),l=o("861d"),s=o("7b0b"),c=o("07fa"),d=o("8418"),u=o("65f0"),m=o("1dde"),f=o("b622"),p=o("2d00"),h=f("isConcatSpreadable"),b=9007199254740991,g="Maximum allowed index exceeded",v=n.TypeError,_=p>=51||!i((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=m("concat"),w=function(e){if(!l(e))return!1;var t=e[h];return void 0!==t?!!t:r(e)},x=!_||!y;a({target:"Array",proto:!0,forced:x},{concat:function(e){var t,o,a,n,i,r=s(this),l=u(r,0),m=0;for(t=-1,a=arguments.length;t<a;t++)if(i=-1===t?r:arguments[t],w(i)){if(n=c(i),m+n>b)throw v(g);for(o=0;o<n;o++,m++)o in i&&d(l,m,i[o])}else{if(m>=b)throw v(g);d(l,m++,i)}return l.length=m,l}})},b727:function(e,t,o){var a=o("0366"),n=o("e330"),i=o("44ad"),r=o("7b0b"),l=o("07fa"),s=o("65f0"),c=n([].push),d=function(e){var t=1==e,o=2==e,n=3==e,d=4==e,u=6==e,m=7==e,f=5==e||u;return function(p,h,b,g){for(var v,_,y=r(p),w=i(y),x=a(h,b),k=l(w),F=0,S=g||s,C=t?S(p,k):o||m?S(p,0):void 0;k>F;F++)if((f||F in w)&&(v=w[F],_=x(v,F,y),e))if(t)C[F]=_;else if(_)switch(e){case 3:return!0;case 5:return v;case 6:return F;case 2:c(C,v)}else switch(e){case 4:return!1;case 7:c(C,v)}return u?-1:n||d?d:C}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},d81d:function(e,t,o){"use strict";var a=o("23e7"),n=o("b727").map,i=o("1dde"),r=i("map");a({target:"Array",proto:!0,forced:!r},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,o){var a=o("c6b6");e.exports=Array.isArray||function(e){return"Array"==a(e)}},fb6a:function(e,t,o){"use strict";var a=o("23e7"),n=o("da84"),i=o("e8b5"),r=o("68ee"),l=o("861d"),s=o("23cb"),c=o("07fa"),d=o("fc6a"),u=o("8418"),m=o("b622"),f=o("1dde"),p=o("f36a"),h=f("slice"),b=m("species"),g=n.Array,v=Math.max;a({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var o,a,n,m=d(this),f=c(m),h=s(e,f),_=s(void 0===t?f:t,f);if(i(m)&&(o=m.constructor,r(o)&&(o===g||i(o.prototype))?o=void 0:l(o)&&(o=o[b],null===o&&(o=void 0)),o===g||void 0===o))return p(m,h,_);for(a=new(void 0===o?g:o)(v(_-h,0)),n=0;h<_;h++,n++)h in m&&u(a,n,m[h]);return a.length=n,a}})}}]);
//# sourceMappingURL=chunk-5de9f2ba.2bfae2f3.js.map